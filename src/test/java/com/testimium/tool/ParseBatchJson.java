package com.testimium.tool;

import com.testimium.tool.exception.JsonParsingException;
import com.testimium.tool.report.domain.BatchData;
import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.ObjectMapper;

public class ParseBatchJson {

    private static String batchJson = "{\"name\":\"ABC-test\",\"totalTest\":283,\"totalPassed\":94,\"totalFailed\":189,\"totalSkipped\":0,\"totalPassedRate\":0,\"testStartTime\":\"2025-06-25 02:21:07\",\"testEndTime\":\"2025-06-25 05:27:37\",\"totalDuration\":\"3h 6m 30s+0ms\",\"location\":\"./Reports/1-ABC-test\",\"reportDataList\":[{\"name\":\"1-POSRegression\",\"location\":\"./Reports/1-ABC\",\"totalTest\":1,\"totalPassed\":1,\"totalFailed\":0,\"totalSkipped\":0,\"totalPassedRate\":100,\"testStartTime\":\"2025-06-25 02:21:07\",\"testEndTime\":\"2025-06-25 02:32:03\",\"totalDuration\":\"0h 10m 56s+0ms\",\"filePath\":\"./Reports/1-ABC/1-POSRegression.html\"},{\"name\":\"2-DataImport\",\"location\":\"./Reports/1-ABC\",\"totalTest\":4,\"totalPassed\":4,\"totalFailed\":0,\"totalSkipped\":0,\"totalPassedRate\":100,\"testStartTime\":\"2025-06-25 02:32:03\",\"testEndTime\":\"2025-06-25 02:34:28\",\"totalDuration\":\"0h 2m 25s+0ms\",\"filePath\":\"./Reports/1-ABC/2-DataImport.html\"},{\"name\":\"3-ChangePrice-Pre\",\"location\":\"./Reports/1-ABC\",\"totalTest\":2,\"totalPassed\":2,\"totalFailed\":0,\"totalSkipped\":0,\"totalPassedRate\":100,\"testStartTime\":\"2025-06-25 02:34:28\",\"testEndTime\":\"2025-06-25 02:34:44\",\"totalDuration\":\"0h 0m 16s+0ms\",\"filePath\":\"./Reports/1-ABC/3-ChangePrice-Pre.html\"},{\"name\":\"4-TermSales-Pre\",\"location\":\"./Reports/1-ABC\",\"totalTest\":23,\"totalPassed\":3,\"totalFailed\":20,\"totalSkipped\":0,\"totalPassedRate\":0,\"testStartTime\":\"2025-06-25 02:34:44\",\"testEndTime\":\"2025-06-25 02:46:02\",\"totalDuration\":\"0h 11m 18s+0ms\",\"filePath\":\"./Reports/1-ABC/4-TermSales-Pre.html\"},{\"name\":\"5-GroupMarkdowns-Pre\",\"location\":\"./Reports/1-ABC\",\"totalTest\":20,\"totalPassed\":4,\"totalFailed\":16,\"totalSkipped\":0,\"totalPassedRate\":0,\"testStartTime\":\"2025-06-25 02:46:02\",\"testEndTime\":\"2025-06-25 02:56:32\",\"totalDuration\":\"0h 10m 30s+0ms\",\"filePath\":\"./Reports/1-ABC/5-GroupMarkdowns-Pre.html\"},{\"name\":\"6-Multibuys-Pre\",\"location\":\"./Reports/1-ABC\",\"totalTest\":24,\"totalPassed\":24,\"totalFailed\":0,\"totalSkipped\":0,\"totalPassedRate\":100,\"testStartTime\":\"2025-06-25 02:56:32\",\"testEndTime\":\"2025-06-25 03:02:21\",\"totalDuration\":\"0h 5m 49s+0ms\",\"filePath\":\"./Reports/1-ABC/6-Multibuys-Pre.html\"},{\"name\":\"7-Coupon-Pre\",\"location\":\"./Reports/1-ABC\",\"totalTest\":63,\"totalPassed\":5,\"totalFailed\":58,\"totalSkipped\":0,\"totalPassedRate\":0,\"testStartTime\":\"2025-06-25 03:02:21\",\"testEndTime\":\"2025-06-25 03:39:57\",\"totalDuration\":\"0h 37m 36s+0ms\",\"filePath\":\"./Reports/1-ABC/7-Coupon-Pre.html\"},{\"name\":\"8-GroupQuantityPricing-Pre\",\"location\":\"./Reports/1-ABC\",\"totalTest\":32,\"totalPassed\":32,\"totalFailed\":0,\"totalSkipped\":0,\"totalPassedRate\":100,\"testStartTime\":\"2025-06-25 03:39:57\",\"testEndTime\":\"2025-06-25 03:54:42\",\"totalDuration\":\"0h 14m 45s+0ms\",\"filePath\":\"./Reports/1-ABC/8-GroupQuantityPricing-Pre.html\"},{\"name\":\"9-CustomerPricing-Pre\",\"location\":\"./Reports/1-ABC\",\"totalTest\":22,\"totalPassed\":22,\"totalFailed\":0,\"totalSkipped\":0,\"totalPassedRate\":100,\"testStartTime\":\"2025-06-25 03:54:42\",\"testEndTime\":\"2025-06-25 04:01:14\",\"totalDuration\":\"0h 6m 32s+0ms\",\"filePath\":\"./Reports/1-ABC/9-CustomerPricing-Pre.html\"},{\"name\":\"10-LoginPOS\",\"location\":\"./Reports/1-ABC\",\"totalTest\":2,\"totalPassed\":2,\"totalFailed\":0,\"totalSkipped\":0,\"totalPassedRate\":100,\"testStartTime\":\"2025-06-25 04:01:14\",\"testEndTime\":\"2025-06-25 04:03:24\",\"totalDuration\":\"0h 2m 10s+0ms\",\"filePath\":\"./Reports/1-ABC/10-LoginPOS.html\"},{\"name\":\"11-TermSale\",\"location\":\"./Reports/1-ABC\",\"totalTest\":21,\"totalPassed\":2,\"totalFailed\":19,\"totalSkipped\":0,\"totalPassedRate\":0,\"testStartTime\":\"2025-06-25 04:03:24\",\"testEndTime\":\"2025-06-25 04:13:33\",\"totalDuration\":\"0h 10m 9s+0ms\",\"filePath\":\"./Reports/1-ABC/11-TermSale.html\"},{\"name\":\"12-GroupMarkdowns\",\"location\":\"./Reports/1-ABC\",\"totalTest\":17,\"totalPassed\":0,\"totalFailed\":17,\"totalSkipped\":0,\"totalPassedRate\":0,\"testStartTime\":\"2025-06-25 04:13:33\",\"testEndTime\":\"2025-06-25 04:22:36\",\"totalDuration\":\"0h 9m 3s+0ms\",\"filePath\":\"./Reports/1-ABC/12-GroupMarkdowns.html\"},{\"name\":\"13-LayawayDiscount\",\"location\":\"./Reports/1-ABC\",\"totalTest\":12,\"totalPassed\":2,\"totalFailed\":10,\"totalSkipped\":0,\"totalPassedRate\":0,\"testStartTime\":\"2025-06-25 04:22:36\",\"testEndTime\":\"2025-06-25 04:25:32\",\"totalDuration\":\"0h 2m 56s+0ms\",\"filePath\":\"./Reports/1-ABC/13-LayawayDiscount.html\"}]}";
    public static void main(String[] args) throws JsonParsingException, JsonProcessingException {
        //BatchData batchData = (BatchData) FileReaderFactory.getInstance().readFile("JSON", "Report", jsonFile.getAbsolutePath());
        //byte[] encoded = Files.readAllBytes(Paths.get(file.getAbsolutePath()));
        ObjectMapper objectMapper = new ObjectMapper();
        BatchData batchData = objectMapper.readValue(batchJson, BatchData.class);
        System.out.println(batchData.toString());
    }
}
